version: "3.8"

services:
  ticktick-mcp:
    build:
      context: .
      dockerfile: Dockerfile
    image: ticktick-mcp:latest
    container_name: ticktick-mcp
    restart: unless-stopped
    environment:
      - TICKTICK_CLIENT_ID=${TICKTICK_CLIENT_ID:-}
      - TICKTICK_CLIENT_SECRET=${TICKTICK_CLIENT_SECRET:-}
    volumes:
      # Persist token and cache
      - ticktick-data:/home/ticktick/.ticktick-mcp
    # For development: mount source code
    # - ./src:/app/src:ro
    stdin_open: true
    tty: true

volumes:
  ticktick-data:
    driver: local
